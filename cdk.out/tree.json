{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.214.0"},"children":{"LalaWebStack":{"id":"LalaWebStack","path":"LalaWebStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.214.0"},"children":{"Zone":{"id":"Zone","path":"LalaWebStack/Zone","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"SiteBucket":{"id":"SiteBucket","path":"LalaWebStack/SiteBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaWebStack/SiteBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"corsConfiguration":{"corsRules":[{"maxAge":600,"allowedHeaders":["content-type"],"allowedMethods":["GET","HEAD"],"allowedOrigins":["https://app.stylingadventures.com","http://localhost:3000"],"exposedHeaders":["ETag","x-amz-request-id","x-amz-version-id"]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"aws-cdk:cr-owned:59775bdf","value":"true"},{"key":"aws-cdk:cr-owned:8f36f7a4","value":"true"}]}}},"Policy":{"id":"Policy","path":"LalaWebStack/SiteBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaWebStack/SiteBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"SiteBucket397A1860"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},"/*"]]}]},{"Action":["s3:PutBucketPolicy","s3:GetBucket*","s3:List*","s3:DeleteObject*"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Principal":{"CanonicalUser":{"Fn::GetAtt":["OAIE1EFC67F","S3CanonicalUserId"]}},"Resource":[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},"/*"]]}]},{"Action":"s3:GetObject","Effect":"Allow","Principal":{"CanonicalUser":{"Fn::GetAtt":["OAIE1EFC67F","S3CanonicalUserId"]}},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"LalaWebStack/SiteBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.214.0","metadata":[]},"children":{"Default":{"id":"Default","path":"LalaWebStack/SiteBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"LalaWebStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.214.0"},"children":{"Staging":{"id":"Staging","path":"LalaWebStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"Role":{"id":"Role","path":"LalaWebStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}},"Handler":{"id":"Handler","path":"LalaWebStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}},"OAI":{"id":"OAI","path":"LalaWebStack/OAI","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaWebStack/OAI/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Allows CloudFront to reach the bucket"}}}}}},"AppCFCert":{"id":"AppCFCert","path":"LalaWebStack/AppCFCert","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.DnsValidatedCertificate","version":"2.214.0","metadata":[]},"children":{"CertificateRequestorFunction":{"id":"CertificateRequestorFunction","path":"LalaWebStack/AppCFCert/CertificateRequestorFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.214.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LalaWebStack/AppCFCert/CertificateRequestorFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.214.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LalaWebStack/AppCFCert/CertificateRequestorFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"Resource":{"id":"Resource","path":"LalaWebStack/AppCFCert/CertificateRequestorFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LalaWebStack/AppCFCert/CertificateRequestorFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaWebStack/AppCFCert/CertificateRequestorFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["acm:RequestCertificate","acm:DescribeCertificate","acm:DeleteCertificate","acm:AddTagsToCertificate"],"Effect":"Allow","Resource":"*"},{"Action":"route53:GetChange","Effect":"Allow","Resource":"*"},{"Action":"route53:changeResourceRecordSets","Condition":{"ForAllValues:StringEquals":{"route53:ChangeResourceRecordSetsRecordTypes":["CNAME"],"route53:ChangeResourceRecordSetsActions":["UPSERT"]},"ForAllValues:StringLike":{"route53:ChangeResourceRecordSetsNormalizedRecordNames":["*.app.stylingadventures.com"]}},"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":route53:::hostedzone/Z07658942274TNDUJGNOA"]]}}],"Version":"2012-10-17"},"policyName":"AppCFCertCertificateRequestorFunctionServiceRoleDefaultPolicy50F1F911","roles":[{"Ref":"AppCFCertCertificateRequestorFunctionServiceRole84EC4207"}]}}}}}}},"Code":{"id":"Code","path":"LalaWebStack/AppCFCert/CertificateRequestorFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.214.0"},"children":{"Stage":{"id":"Stage","path":"LalaWebStack/AppCFCert/CertificateRequestorFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"AssetBucket":{"id":"AssetBucket","path":"LalaWebStack/AppCFCert/CertificateRequestorFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.214.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LalaWebStack/AppCFCert/CertificateRequestorFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"b073cebcf4d61fb152a30f5a5e57a94df7f980a549fdf1a79a0b18c5750522d8.zip"},"handler":"index.certificateRequestHandler","role":{"Fn::GetAtt":["AppCFCertCertificateRequestorFunctionServiceRole84EC4207","Arn"]},"runtime":"nodejs22.x","timeout":900}}}}},"CertificateRequestorResource":{"id":"CertificateRequestorResource","path":"LalaWebStack/AppCFCert/CertificateRequestorResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.214.0","metadata":[]},"children":{"Default":{"id":"Default","path":"LalaWebStack/AppCFCert/CertificateRequestorResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}}}},"Distribution":{"id":"Distribution","path":"LalaWebStack/Distribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.214.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"LalaWebStack/Distribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"LalaWebStack/Distribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["SiteBucket397A1860","RegionalDomainName"]},"id":"LalaWebStackDistributionOrigin11F84F436","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"OAIE1EFC67F"}]]}}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"LalaWebStackDistributionOrigin11F84F436","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},"aliases":["app.stylingadventures.com"],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true,"viewerCertificate":{"acmCertificateArn":{"Fn::GetAtt":["AppCFCertCertificateRequestorResource3B4F92C0","Arn"]},"minimumProtocolVersion":"TLSv1.2_2021","sslSupportMethod":"sni-only"}}}}}}},"AppAliasA":{"id":"AppAliasA","path":"LalaWebStack/AppAliasA","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaWebStack/AppAliasA/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":{"Fn::FindInMap":["AWSCloudFrontPartitionHostedZoneIdMap",{"Ref":"AWS::Partition"},"zoneId"]},"dnsName":{"Fn::GetAtt":["Distribution830FAC52","DomainName"]}},"hostedZoneId":"Z07658942274TNDUJGNOA","name":"app.stylingadventures.com.","type":"A"}}}}},"AWSCloudFrontPartitionHostedZoneIdMap":{"id":"AWSCloudFrontPartitionHostedZoneIdMap","path":"LalaWebStack/AWSCloudFrontPartitionHostedZoneIdMap","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"2.214.0"}},"AppAliasAAAA":{"id":"AppAliasAAAA","path":"LalaWebStack/AppAliasAAAA","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.AaaaRecord","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaWebStack/AppAliasAAAA/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":{"Fn::FindInMap":["AWSCloudFrontPartitionHostedZoneIdMap",{"Ref":"AWS::Partition"},"zoneId"]},"dnsName":{"Fn::GetAtt":["Distribution830FAC52","DomainName"]}},"hostedZoneId":"Z07658942274TNDUJGNOA","name":"app.stylingadventures.com.","type":"AAAA"}}}}},"DeployAssets":{"id":"DeployAssets","path":"LalaWebStack/DeployAssets","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.214.0"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"LalaWebStack/DeployAssets/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.214.0","metadata":[]},"children":{"Code":{"id":"Code","path":"LalaWebStack/DeployAssets/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.214.0"},"children":{"Stage":{"id":"Stage","path":"LalaWebStack/DeployAssets/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"AssetBucket":{"id":"AssetBucket","path":"LalaWebStack/DeployAssets/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.214.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LalaWebStack/DeployAssets/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"c49d356cac773d491c5f7ac148995a1181498a8e289429f8612a7f7e3814f535.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"LalaWebStack/DeployAssets/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.214.0","metadata":[]}},"Asset1":{"id":"Asset1","path":"LalaWebStack/DeployAssets/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.214.0"},"children":{"Stage":{"id":"Stage","path":"LalaWebStack/DeployAssets/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"AssetBucket":{"id":"AssetBucket","path":"LalaWebStack/DeployAssets/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.214.0","metadata":[]}}}},"CustomResource":{"id":"CustomResource","path":"LalaWebStack/DeployAssets/CustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.214.0","metadata":[]},"children":{"Default":{"id":"Default","path":"LalaWebStack/DeployAssets/CustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}}}},"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C":{"id":"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","path":"LalaWebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.214.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LalaWebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.214.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LalaWebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"Resource":{"id":"Resource","path":"LalaWebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LalaWebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaWebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::cdk-hnb659fds-assets-637423256673-us-east-1"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::cdk-hnb659fds-assets-637423256673-us-east-1/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},"/*"]]}]},{"Action":["cloudfront:GetInvalidation","cloudfront:CreateInvalidation"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF","roles":[{"Ref":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"}]}}}}}}},"Code":{"id":"Code","path":"LalaWebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.214.0"},"children":{"Stage":{"id":"Stage","path":"LalaWebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"AssetBucket":{"id":"AssetBucket","path":"LalaWebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.214.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LalaWebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"3423a042b818e31c1e34a19d6689ab2e5f9b70fcbe9e71df66f241b20a200bd9.zip"},"environment":{"variables":{"AWS_CA_BUNDLE":"/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"}},"handler":"index.handler","layers":[{"Ref":"DeployAssetsAwsCliLayer986E51B7"}],"role":{"Fn::GetAtt":["CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265","Arn"]},"runtime":"python3.11","timeout":900}}}}},"DeployHtml":{"id":"DeployHtml","path":"LalaWebStack/DeployHtml","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.214.0"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"LalaWebStack/DeployHtml/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.214.0","metadata":[]},"children":{"Code":{"id":"Code","path":"LalaWebStack/DeployHtml/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.214.0"},"children":{"Stage":{"id":"Stage","path":"LalaWebStack/DeployHtml/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"AssetBucket":{"id":"AssetBucket","path":"LalaWebStack/DeployHtml/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.214.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LalaWebStack/DeployHtml/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"c49d356cac773d491c5f7ac148995a1181498a8e289429f8612a7f7e3814f535.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"LalaWebStack/DeployHtml/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.214.0","metadata":[]}},"Asset1":{"id":"Asset1","path":"LalaWebStack/DeployHtml/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.214.0"},"children":{"Stage":{"id":"Stage","path":"LalaWebStack/DeployHtml/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"AssetBucket":{"id":"AssetBucket","path":"LalaWebStack/DeployHtml/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.214.0","metadata":[]}}}},"CustomResource":{"id":"CustomResource","path":"LalaWebStack/DeployHtml/CustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.214.0","metadata":[]},"children":{"Default":{"id":"Default","path":"LalaWebStack/DeployHtml/CustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}}}},"SiteUrl":{"id":"SiteUrl","path":"LalaWebStack/SiteUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"CfDomainFallback":{"id":"CfDomainFallback","path":"LalaWebStack/CfDomainFallback","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"LalaWebStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"LalaWebStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}},"Exports":{"id":"Exports","path":"LalaWebStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"Distribution830FAC52\",\"DomainName\"]}":{"id":"Output{\"Fn::GetAtt\":[\"Distribution830FAC52\",\"DomainName\"]}","path":"LalaWebStack/Exports/Output{\"Fn::GetAtt\":[\"Distribution830FAC52\",\"DomainName\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"LalaWebStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.214.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"LalaWebStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.214.0"}}}},"LalaIdentityStack":{"id":"LalaIdentityStack","path":"LalaIdentityStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.214.0"},"children":{"UserPool":{"id":"UserPool","path":"LalaIdentityStack/UserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaIdentityStack/UserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","policies":{"passwordPolicy":{"minimumLength":8,"requireLowercase":true,"requireNumbers":true}},"smsVerificationMessage":"The verification code to your new account is {####}","usernameAttributes":["email"],"verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}},"HostedUiDomain":{"id":"HostedUiDomain","path":"LalaIdentityStack/UserPool/HostedUiDomain","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolDomain","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaIdentityStack/UserPool/HostedUiDomain/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolDomain","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolDomain","aws:cdk:cloudformation:props":{"domain":"lala-6673-c85f","userPoolId":{"Ref":"UserPool6BA7E5F2"}}}}}}}},"UserPoolClient":{"id":"UserPoolClient","path":"LalaIdentityStack/UserPoolClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaIdentityStack/UserPoolClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"allowedOAuthFlows":["code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["openid","email","profile"],"callbackUrLs":[{"Fn::Join":["",["https://",{"Fn::ImportValue":"LalaWebStack:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"}]]},{"Fn::Join":["",["https://",{"Fn::ImportValue":"LalaWebStack:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"},"/"]]},"http://localhost:5173","http://localhost:3000"],"explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_CUSTOM_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"logoutUrLs":[{"Fn::Join":["",["https://",{"Fn::ImportValue":"LalaWebStack:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"}]]},{"Fn::Join":["",["https://",{"Fn::ImportValue":"LalaWebStack:ExportsOutputFnGetAttDistribution830FAC52DomainNameBEB09E30"},"/"]]},"http://localhost:5173","http://localhost:3000"],"supportedIdentityProviders":["COGNITO"],"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}}}},"IdentityPool":{"id":"IdentityPool","path":"LalaIdentityStack/IdentityPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnIdentityPool","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::IdentityPool","aws:cdk:cloudformation:props":{"allowUnauthenticatedIdentities":false,"cognitoIdentityProviders":[{"clientId":{"Ref":"UserPoolClient2F5918F7"},"providerName":{"Fn::GetAtt":["UserPool6BA7E5F2","ProviderName"]}}]}}},"UserPoolId":{"id":"UserPoolId","path":"LalaIdentityStack/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"LalaIdentityStack/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"CognitoDomain":{"id":"CognitoDomain","path":"LalaIdentityStack/CognitoDomain","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"CognitoHostedUiSite":{"id":"CognitoHostedUiSite","path":"LalaIdentityStack/CognitoHostedUiSite","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"LalaIdentityStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"LalaIdentityStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}},"Exports":{"id":"Exports","path":"LalaIdentityStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"UserPool6BA7E5F2\"}":{"id":"Output{\"Ref\":\"UserPool6BA7E5F2\"}","path":"LalaIdentityStack/Exports/Output{\"Ref\":\"UserPool6BA7E5F2\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"Output{\"Fn::GetAtt\":[\"UserPool6BA7E5F2\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UserPool6BA7E5F2\",\"Arn\"]}","path":"LalaIdentityStack/Exports/Output{\"Fn::GetAtt\":[\"UserPool6BA7E5F2\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"LalaIdentityStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.214.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"LalaIdentityStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.214.0"}}}},"LalaApiStack":{"id":"LalaApiStack","path":"LalaApiStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.214.0"},"children":{"GraphqlApi":{"id":"GraphqlApi","path":"LalaApiStack/GraphqlApi","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.GraphqlApi","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaApiStack/GraphqlApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnGraphQLApi","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::GraphQLApi","aws:cdk:cloudformation:props":{"authenticationType":"AMAZON_COGNITO_USER_POOLS","name":"lala-api","userPoolConfig":{"userPoolId":{"Fn::ImportValue":"LalaIdentityStack:ExportsOutputRefUserPool6BA7E5F296FD7236"},"awsRegion":"us-east-1","defaultAction":"ALLOW"},"xrayEnabled":true}}},"Schema":{"id":"Schema","path":"LalaApiStack/GraphqlApi/Schema","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnGraphQLSchema","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::GraphQLSchema","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi1B6CF24C","ApiId"]},"definition":"type Query { hello: String }\nschema { query: Query }\r\n"}}},"LogGroup":{"id":"LogGroup","path":"LalaApiStack/GraphqlApi/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"HelloResolver":{"id":"HelloResolver","path":"LalaApiStack/GraphqlApi/HelloResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.214.0"},"children":{"Resource":{"id":"Resource","path":"LalaApiStack/GraphqlApi/HelloResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi1B6CF24C","ApiId"]},"dataSourceName":"HelloDS","fieldName":"hello","kind":"UNIT","typeName":"Query"}}}}}}},"HelloFn":{"id":"HelloFn","path":"LalaApiStack/HelloFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.214.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LalaApiStack/HelloFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.214.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LalaApiStack/HelloFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"Resource":{"id":"Resource","path":"LalaApiStack/HelloFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Resource":{"id":"Resource","path":"LalaApiStack/HelloFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"\n        exports.handler = async () => ({ statusCode: 200, body: JSON.stringify({ hello: \"Bestie from Lala API\" }) });\n      "},"handler":"index.handler","role":{"Fn::GetAtt":["HelloFnServiceRoleDA97FE56","Arn"]},"runtime":"nodejs20.x"}}}}},"HelloDS":{"id":"HelloDS","path":"LalaApiStack/HelloDS","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.214.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"LalaApiStack/HelloDS/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.214.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LalaApiStack/HelloDS/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"Resource":{"id":"Resource","path":"LalaApiStack/HelloDS/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LalaApiStack/HelloDS/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaApiStack/HelloDS/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["HelloFn7942DF23","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["HelloFn7942DF23","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"HelloDSServiceRoleDefaultPolicy8903458C","roles":[{"Ref":"HelloDSServiceRoleCFE56D0D"}]}}}}}}},"Resource":{"id":"Resource","path":"LalaApiStack/HelloDS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["GraphqlApi1B6CF24C","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["HelloFn7942DF23","Arn"]}},"name":"HelloDS","serviceRoleArn":{"Fn::GetAtt":["HelloDSServiceRoleCFE56D0D","Arn"]},"type":"AWS_LAMBDA"}}}}},"GraphqlUrl":{"id":"GraphqlUrl","path":"LalaApiStack/GraphqlUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"LalaApiStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"LalaApiStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"LalaApiStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.214.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"LalaApiStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.214.0"}}}},"LalaUploadsStack":{"id":"LalaUploadsStack","path":"LalaUploadsStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.214.0"},"children":{"UploadsBucket":{"id":"UploadsBucket","path":"LalaUploadsStack/UploadsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"corsConfiguration":{"corsRules":[{"allowedHeaders":["*"],"allowedMethods":["PUT","GET"],"allowedOrigins":["*"],"exposedHeaders":["ETag"]}]},"lifecycleConfiguration":{"rules":[{"expirationInDays":30,"status":"Enabled","tagFilters":[{"key":"auto-expire","value":"true"}]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}]}}},"Policy":{"id":"Policy","path":"LalaUploadsStack/UploadsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"UploadsBucket5E5E9B64"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},"/*"]]}]},{"Action":["s3:PutBucketPolicy","s3:GetBucket*","s3:List*","s3:DeleteObject*"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"LalaUploadsStack/UploadsBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.214.0","metadata":[]},"children":{"Default":{"id":"Default","path":"LalaUploadsStack/UploadsBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"LalaUploadsStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.214.0"},"children":{"Staging":{"id":"Staging","path":"LalaUploadsStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.214.0"}},"Role":{"id":"Role","path":"LalaUploadsStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}},"Handler":{"id":"Handler","path":"LalaUploadsStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}},"PresignFn":{"id":"PresignFn","path":"LalaUploadsStack/PresignFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.214.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LalaUploadsStack/PresignFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.214.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LalaUploadsStack/PresignFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"Resource":{"id":"Resource","path":"LalaUploadsStack/PresignFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LalaUploadsStack/PresignFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/PresignFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":{"Fn::Join":["",[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},"/*"]]}}],"Version":"2012-10-17"},"policyName":"PresignFnServiceRoleDefaultPolicyA1C82940","roles":[{"Ref":"PresignFnServiceRole01C8BCF6"}]}}}}}}},"Resource":{"id":"Resource","path":"LalaUploadsStack/PresignFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"\nimport os, json, boto3\nfrom uuid import uuid4\ns3 = boto3.client(\"s3\")\nBUCKET = os.environ[\"BUCKET_NAME\"]\nALLOW_CT = set([x.strip() for x in (os.environ.get(\"ALLOW_CT\") or \"\").split(\",\") if x.strip()])\nMAX_BYTES = int(os.environ.get(\"MAX_BYTES\") or \"10485760\")\ndef _resp(status, body): return {\"statusCode\": status, \"headers\": {\"Access-Control-Allow-Origin\": \"*\"}, \"body\": json.dumps(body)}\ndef _sub(event): return (((event or {}).get(\"requestContext\") or {}).get(\"authorizer\") or {}).get(\"claims\", {}).get(\"sub\")\ndef handler(event, context):\n    try:\n        sub = _sub(event)\n        if not sub: return _resp(401, {\"error\":\"unauthorized\"})\n        body = json.loads(event.get(\"body\") or \"{}\")\n        filename = (body.get(\"filename\") or \"file.bin\").replace(\"/\", \"_\")\n        ctype = body.get(\"contentType\") or \"application/octet-stream\"\n        size = int(body.get(\"size\") or 0)\n        if ALLOW_CT and ctype not in ALLOW_CT: return _resp(400, {\"error\": \"contentType not allowed\"})\n        if size and size > MAX_BYTES: return _resp(400, {\"error\": f\"file too large (>{MAX_BYTES} bytes)\"})\n        key = f\"uploads/{sub}/{uuid4()}/{filename}\"\n        url = s3.generate_presigned_url(\"put_object\", Params={\"Bucket\": BUCKET, \"Key\": key, \"ContentType\": ctype, \"Tagging\": \"auto-expire=true\"}, ExpiresIn=3600)\n        return _resp(200, {\"url\": url, \"key\": key})\n    except Exception as e:\n        return _resp(500, {\"error\": str(e)})\n      "},"environment":{"variables":{"BUCKET_NAME":{"Ref":"UploadsBucket5E5E9B64"},"ALLOW_CT":"image/jpeg,image/png,image/webp,image/gif,application/pdf,text/plain","MAX_BYTES":"10485760"}},"handler":"index.handler","role":{"Fn::GetAtt":["PresignFnServiceRole01C8BCF6","Arn"]},"runtime":"python3.12","timeout":10}}}}},"SignGetFn":{"id":"SignGetFn","path":"LalaUploadsStack/SignGetFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.214.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LalaUploadsStack/SignGetFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.214.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LalaUploadsStack/SignGetFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"Resource":{"id":"Resource","path":"LalaUploadsStack/SignGetFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LalaUploadsStack/SignGetFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/SignGetFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"SignGetFnServiceRoleDefaultPolicyAF8A4AD6","roles":[{"Ref":"SignGetFnServiceRole93438954"}]}}}}}}},"Resource":{"id":"Resource","path":"LalaUploadsStack/SignGetFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"\nimport os, json, boto3, urllib.parse\ns3 = boto3.client(\"s3\")\nBUCKET = os.environ[\"BUCKET_NAME\"]\ndef _resp(status, body): return {\"statusCode\": status, \"headers\": {\"Access-Control-Allow-Origin\": \"*\"}, \"body\": json.dumps(body)}\ndef _sub(event): return (((event or {}).get(\"requestContext\") or {}).get(\"authorizer\") or {}).get(\"claims\", {}).get(\"sub\")\ndef handler(event, context):\n    try:\n        sub = _sub(event)\n        if not sub: return _resp(401, {\"error\":\"unauthorized\"})\n        qs = event.get(\"queryStringParameters\") or {}\n        key = qs.get(\"key\")\n        if not key: return _resp(400, {\"error\": \"key query param required\"})\n        key = urllib.parse.unquote(key)\n        user_prefix = f\"uploads/{sub}/\"\n        if not key.startswith(user_prefix): return _resp(403, {\"error\": \"not your key\"})\n        download = (qs.get(\"download\") or \"false\").lower() == \"true\"\n        params = {\"Bucket\": BUCKET, \"Key\": key, \"ResponseContentDisposition\": \"attachment\" if download else \"inline\"}\n        url = s3.generate_presigned_url(\"get_object\", Params=params, ExpiresIn=300)\n        return _resp(200, {\"url\": url})\n    except Exception as e:\n        return _resp(500, {\"error\": str(e)})\n      "},"environment":{"variables":{"BUCKET_NAME":{"Ref":"UploadsBucket5E5E9B64"}}},"handler":"index.handler","role":{"Fn::GetAtt":["SignGetFnServiceRole93438954","Arn"]},"runtime":"python3.12","timeout":10}}}}},"ListFn":{"id":"ListFn","path":"LalaUploadsStack/ListFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.214.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LalaUploadsStack/ListFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.214.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LalaUploadsStack/ListFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"Resource":{"id":"Resource","path":"LalaUploadsStack/ListFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LalaUploadsStack/ListFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/ListFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"ListFnServiceRoleDefaultPolicy40CF7272","roles":[{"Ref":"ListFnServiceRole4DFB7CA2"}]}}}}}}},"Resource":{"id":"Resource","path":"LalaUploadsStack/ListFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"\nimport os, json, boto3, urllib.parse, datetime\nfrom datetime import timezone\ns3 = boto3.client(\"s3\")\nBUCKET = os.environ[\"BUCKET_NAME\"]\ndef _resp(status, body): return {\"statusCode\": status, \"headers\": {\"Access-Control-Allow-Origin\": \"*\"}, \"body\": json.dumps(body, default=str)}\ndef _sub(event): return (((event or {}).get(\"requestContext\") or {}).get(\"authorizer\") or {}).get(\"claims\", {}).get(\"sub\")\ndef handler(event, context):\n    try:\n        sub = _sub(event)\n        if not sub: return _resp(401, {\"error\":\"unauthorized\"})\n        qs = event.get(\"queryStringParameters\") or {}\n        limit = int(qs.get(\"limit\") or 50)\n        limit = 1 if limit < 1 else 1000 if limit > 1000 else limit\n        prefix = qs.get(\"prefix\") or f\"uploads/{sub}/\"\n        prefix = urllib.parse.unquote(prefix)\n        if not prefix.startswith(f\"uploads/{sub}/\"): return _resp(403, {\"error\":\"prefix must start with your uploads/ sub\"})\n        resp = s3.list_objects_v2(Bucket=BUCKET, Prefix=prefix, MaxKeys=limit)\n        items = [{\"key\": o[\"Key\"], \"size\": o[\"Size\"], \"lastModified\": o[\"LastModified\"].astimezone(timezone.utc).isoformat()} for o in resp.get(\"Contents\", [])]\n        return _resp(200, {\"items\": items})\n    except Exception as e:\n        return _resp(500, {\"error\": str(e)})\n      "},"environment":{"variables":{"BUCKET_NAME":{"Ref":"UploadsBucket5E5E9B64"}}},"handler":"index.handler","role":{"Fn::GetAtt":["ListFnServiceRole4DFB7CA2","Arn"]},"runtime":"python3.12","timeout":10}}}}},"DeleteFn":{"id":"DeleteFn","path":"LalaUploadsStack/DeleteFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.214.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LalaUploadsStack/DeleteFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.214.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LalaUploadsStack/DeleteFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"Resource":{"id":"Resource","path":"LalaUploadsStack/DeleteFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LalaUploadsStack/DeleteFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/DeleteFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"s3:DeleteObject*","Effect":"Allow","Resource":{"Fn::Join":["",[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},"/*"]]}}],"Version":"2012-10-17"},"policyName":"DeleteFnServiceRoleDefaultPolicyFBC1379E","roles":[{"Ref":"DeleteFnServiceRoleEE95CA31"}]}}}}}}},"Resource":{"id":"Resource","path":"LalaUploadsStack/DeleteFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"\nimport os, json, boto3, urllib.parse\ns3 = boto3.client(\"s3\")\nBUCKET = os.environ[\"BUCKET_NAME\"]\ndef _resp(status, body): return {\"statusCode\": status, \"headers\": {\"Access-Control-Allow-Origin\": \"*\"}, \"body\": json.dumps(body)}\ndef _sub(event): return (((event or {}).get(\"requestContext\") or {}).get(\"authorizer\") or {}).get(\"claims\", {}).get(\"sub\")\ndef handler(event, context):\n    try:\n        sub = _sub(event)\n        if not sub: return _resp(401, {\"error\":\"unauthorized\"})\n        qs = event.get(\"queryStringParameters\") or {}\n        key = qs.get(\"key\")\n        if not key and event.get(\"body\"):\n            try: key = json.loads(event[\"body\"]).get(\"key\")\n            except Exception: pass\n        if not key: return _resp(400, {\"error\":\"key required\"})\n        key = urllib.parse.unquote(key)\n        if not key.startswith(f\"uploads/{sub}/\"): return _resp(403, {\"error\":\"not your key\"})\n        s3.delete_object(Bucket=BUCKET, Key=key)\n        return _resp(200, {\"deleted\": key})\n    except Exception as e:\n        return _resp(500, {\"error\": str(e)})\n      "},"environment":{"variables":{"BUCKET_NAME":{"Ref":"UploadsBucket5E5E9B64"}}},"handler":"index.handler","role":{"Fn::GetAtt":["DeleteFnServiceRoleEE95CA31","Arn"]},"runtime":"python3.12","timeout":10}}}}},"UploadsApi":{"id":"UploadsApi","path":"LalaUploadsStack/UploadsApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"UploadsApi"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"LalaUploadsStack/UploadsApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.214.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"LalaUploadsStack/UploadsApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.214.0","metadata":[]}},"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"LalaUploadsStack/UploadsApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["UploadsApiCloudWatchRole6FE18421","Arn"]}}}},"Deployment":{"id":"Deployment","path":"LalaUploadsStack/UploadsApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"LalaUploadsStack/UploadsApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"UploadsApiDeployment4A67E04Cfd3e0e9a3dbaf8e79561f60ebaa7f966"},"restApiId":{"Ref":"UploadsApiF6E592E7"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"LalaUploadsStack/UploadsApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"Default":{"id":"Default","path":"LalaUploadsStack/UploadsApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.214.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"LalaUploadsStack/UploadsApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,DELETE,OPTIONS'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["UploadsApiF6E592E7","RootResourceId"]},"restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}},"presign":{"id":"presign","path":"LalaUploadsStack/UploadsApi/Default/presign","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/Default/presign/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["UploadsApiF6E592E7","RootResourceId"]},"pathPart":"presign","restApiId":{"Ref":"UploadsApiF6E592E7"}}}},"OPTIONS":{"id":"OPTIONS","path":"LalaUploadsStack/UploadsApi/Default/presign/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/Default/presign/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,DELETE,OPTIONS'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"UploadsApipresignE1161A2C"},"restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}},"POST":{"id":"POST","path":"LalaUploadsStack/UploadsApi/Default/presign/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"ApiPermission.LalaUploadsStackUploadsApiE6853AC8.POST..presign":{"id":"ApiPermission.LalaUploadsStackUploadsApiE6853AC8.POST..presign","path":"LalaUploadsStack/UploadsApi/Default/presign/POST/ApiPermission.LalaUploadsStackUploadsApiE6853AC8.POST..presign","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PresignFnA38D425B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/",{"Ref":"UploadsApiDeploymentStageprod1839106B"},"/POST/presign"]]}}}},"ApiPermission.Test.LalaUploadsStackUploadsApiE6853AC8.POST..presign":{"id":"ApiPermission.Test.LalaUploadsStackUploadsApiE6853AC8.POST..presign","path":"LalaUploadsStack/UploadsApi/Default/presign/POST/ApiPermission.Test.LalaUploadsStackUploadsApiE6853AC8.POST..presign","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PresignFnA38D425B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/test-invoke-stage/POST/presign"]]}}}},"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/Default/presign/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"UploadsAuthorizer5E742C62"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["PresignFnA38D425B","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"UploadsApipresignE1161A2C"},"restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}}}},"sign-url":{"id":"sign-url","path":"LalaUploadsStack/UploadsApi/Default/sign-url","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/Default/sign-url/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["UploadsApiF6E592E7","RootResourceId"]},"pathPart":"sign-url","restApiId":{"Ref":"UploadsApiF6E592E7"}}}},"OPTIONS":{"id":"OPTIONS","path":"LalaUploadsStack/UploadsApi/Default/sign-url/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/Default/sign-url/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,DELETE,OPTIONS'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"UploadsApisignurl2C462275"},"restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}},"GET":{"id":"GET","path":"LalaUploadsStack/UploadsApi/Default/sign-url/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"ApiPermission.LalaUploadsStackUploadsApiE6853AC8.GET..sign-url":{"id":"ApiPermission.LalaUploadsStackUploadsApiE6853AC8.GET..sign-url","path":"LalaUploadsStack/UploadsApi/Default/sign-url/GET/ApiPermission.LalaUploadsStackUploadsApiE6853AC8.GET..sign-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SignGetFn84F3AA9D","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/",{"Ref":"UploadsApiDeploymentStageprod1839106B"},"/GET/sign-url"]]}}}},"ApiPermission.Test.LalaUploadsStackUploadsApiE6853AC8.GET..sign-url":{"id":"ApiPermission.Test.LalaUploadsStackUploadsApiE6853AC8.GET..sign-url","path":"LalaUploadsStack/UploadsApi/Default/sign-url/GET/ApiPermission.Test.LalaUploadsStackUploadsApiE6853AC8.GET..sign-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SignGetFn84F3AA9D","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/test-invoke-stage/GET/sign-url"]]}}}},"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/Default/sign-url/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"UploadsAuthorizer5E742C62"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SignGetFn84F3AA9D","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"UploadsApisignurl2C462275"},"restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}}}},"list":{"id":"list","path":"LalaUploadsStack/UploadsApi/Default/list","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/Default/list/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["UploadsApiF6E592E7","RootResourceId"]},"pathPart":"list","restApiId":{"Ref":"UploadsApiF6E592E7"}}}},"OPTIONS":{"id":"OPTIONS","path":"LalaUploadsStack/UploadsApi/Default/list/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/Default/list/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,DELETE,OPTIONS'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"UploadsApilist04BFB266"},"restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}},"GET":{"id":"GET","path":"LalaUploadsStack/UploadsApi/Default/list/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"ApiPermission.LalaUploadsStackUploadsApiE6853AC8.GET..list":{"id":"ApiPermission.LalaUploadsStackUploadsApiE6853AC8.GET..list","path":"LalaUploadsStack/UploadsApi/Default/list/GET/ApiPermission.LalaUploadsStackUploadsApiE6853AC8.GET..list","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ListFn7192A255","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/",{"Ref":"UploadsApiDeploymentStageprod1839106B"},"/GET/list"]]}}}},"ApiPermission.Test.LalaUploadsStackUploadsApiE6853AC8.GET..list":{"id":"ApiPermission.Test.LalaUploadsStackUploadsApiE6853AC8.GET..list","path":"LalaUploadsStack/UploadsApi/Default/list/GET/ApiPermission.Test.LalaUploadsStackUploadsApiE6853AC8.GET..list","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ListFn7192A255","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/test-invoke-stage/GET/list"]]}}}},"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/Default/list/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"UploadsAuthorizer5E742C62"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ListFn7192A255","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"UploadsApilist04BFB266"},"restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}}}},"delete":{"id":"delete","path":"LalaUploadsStack/UploadsApi/Default/delete","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/Default/delete/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["UploadsApiF6E592E7","RootResourceId"]},"pathPart":"delete","restApiId":{"Ref":"UploadsApiF6E592E7"}}}},"OPTIONS":{"id":"OPTIONS","path":"LalaUploadsStack/UploadsApi/Default/delete/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/Default/delete/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,DELETE,OPTIONS'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"UploadsApidelete14170098"},"restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}},"DELETE":{"id":"DELETE","path":"LalaUploadsStack/UploadsApi/Default/delete/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"ApiPermission.LalaUploadsStackUploadsApiE6853AC8.DELETE..delete":{"id":"ApiPermission.LalaUploadsStackUploadsApiE6853AC8.DELETE..delete","path":"LalaUploadsStack/UploadsApi/Default/delete/DELETE/ApiPermission.LalaUploadsStackUploadsApiE6853AC8.DELETE..delete","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["DeleteFn88DE53AD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/",{"Ref":"UploadsApiDeploymentStageprod1839106B"},"/DELETE/delete"]]}}}},"ApiPermission.Test.LalaUploadsStackUploadsApiE6853AC8.DELETE..delete":{"id":"ApiPermission.Test.LalaUploadsStackUploadsApiE6853AC8.DELETE..delete","path":"LalaUploadsStack/UploadsApi/Default/delete/DELETE/ApiPermission.Test.LalaUploadsStackUploadsApiE6853AC8.DELETE..delete","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["DeleteFn88DE53AD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/test-invoke-stage/DELETE/delete"]]}}}},"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/Default/delete/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"UploadsAuthorizer5E742C62"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["DeleteFn88DE53AD","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"UploadsApidelete14170098"},"restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}},"POST":{"id":"POST","path":"LalaUploadsStack/UploadsApi/Default/delete/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.214.0","metadata":[]},"children":{"ApiPermission.LalaUploadsStackUploadsApiE6853AC8.POST..delete":{"id":"ApiPermission.LalaUploadsStackUploadsApiE6853AC8.POST..delete","path":"LalaUploadsStack/UploadsApi/Default/delete/POST/ApiPermission.LalaUploadsStackUploadsApiE6853AC8.POST..delete","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["DeleteFn88DE53AD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/",{"Ref":"UploadsApiDeploymentStageprod1839106B"},"/POST/delete"]]}}}},"ApiPermission.Test.LalaUploadsStackUploadsApiE6853AC8.POST..delete":{"id":"ApiPermission.Test.LalaUploadsStackUploadsApiE6853AC8.POST..delete","path":"LalaUploadsStack/UploadsApi/Default/delete/POST/ApiPermission.Test.LalaUploadsStackUploadsApiE6853AC8.POST..delete","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["DeleteFn88DE53AD","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/test-invoke-stage/POST/delete"]]}}}},"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsApi/Default/delete/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"UploadsAuthorizer5E742C62"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["DeleteFn88DE53AD","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"UploadsApidelete14170098"},"restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}}}}}}}},"UploadsAuthorizer":{"id":"UploadsAuthorizer","path":"LalaUploadsStack/UploadsAuthorizer","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CognitoUserPoolsAuthorizer","version":"2.214.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LalaUploadsStack/UploadsAuthorizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAuthorizer","version":"2.214.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Authorizer","aws:cdk:cloudformation:props":{"identitySource":"method.request.header.Authorization","name":"LalaUploadsStackUploadsAuthorizer8DD6FFC2","providerArns":[{"Fn::ImportValue":"LalaIdentityStack:ExportsOutputFnGetAttUserPool6BA7E5F2Arn686ACC00"}],"restApiId":{"Ref":"UploadsApiF6E592E7"},"type":"COGNITO_USER_POOLS"}}}}},"UploadsApiUrl":{"id":"UploadsApiUrl","path":"LalaUploadsStack/UploadsApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"UploadsBucketName":{"id":"UploadsBucketName","path":"LalaUploadsStack/UploadsBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.214.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"LalaUploadsStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"LalaUploadsStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.214.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"LalaUploadsStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.214.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"LalaUploadsStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.214.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}